.data
	array:	.space 440

.text
	li		$t2,50
	sw		$t2,0($0)
	li		$t2,49
	sw		$t2,4($0)
	li		$t2,48
	sw		$t2,8($0)
	li		$t2,47
	sw		$t2,12($0)
	li		$t2,46
	sw		$t2,16($0)
	li		$t2,45
	sw		$t2,20($0)
	li		$t2,44
	sw		$t2,24($0)
	li		$t2,43
	sw		$t2,28($0)
	li		$t2,42
	sw		$t2,32($0)
	li		$t2,41
	sw		$t2,36($0)
	li		$t2,40
	sw		$t2,40($0)
	li		$t2,39
	sw		$t2,44($0)
	li		$t2,38
	sw		$t2,48($0)
	li		$t2,37
	sw		$t2,52($0)
	li		$t2,36
	sw		$t2,56($0)
	li		$t2,35
	sw		$t2,60($0)
	li		$t2,34
	sw		$t2,64($0)
	li		$t2,33
	sw		$t2,68($0)
	li		$t2,32
	sw		$t2,72($0)
	li		$t2,31
	sw		$t2,76($0)
	li		$t2,30
	sw		$t2,80($0)
	li		$t2,29
	sw		$t2,84($0)
	li		$t2,28
	sw		$t2,88($0)
	li		$t2,27
	sw		$t2,92($0)
	li		$t2,26
	sw		$t2,96($0)
	li		$t2,25
	sw		$t2,100($0)
	li		$t2,24
	sw		$t2,104($0)
	li		$t2,23
	sw		$t2,108($0)
	li		$t2,22
	sw		$t2,112($0)
	li		$t2,21
	sw		$t2,116($0)
	li		$t2,20
	sw		$t2,120($0)
	li		$t2,19
	sw		$t2,124($0)
	li		$t2,18
	sw		$t2,128($0)
	li		$t2,17
	sw		$t2,132($0)
	li		$t2,16
	sw		$t2,136($0)
	li		$t2,15
	sw		$t2,140($0)
	li		$t2,14
	sw		$t2,144($0)
	li		$t2,13
	sw		$t2,148($0)
	li		$t2,12
	sw		$t2,152($0)
	li		$t2,11
	sw		$t2,156($0)
	li		$t2,10
	sw		$t2,160($0)
	li		$t2,9
	sw		$t2,164($0)
	li		$t2,8
	sw		$t2,168($0)
	li		$t2,7
	sw		$t2,172($0)
	li		$t2,6
	sw		$t2,176($0)
	li		$t2,5
	sw		$t2,180($0)
	li		$t2,4
	sw		$t2,184($0)
	li		$t2,3
	sw		$t2,188($0)
	li		$t2,2
	sw		$t2,192($0)
	li		$t2,1
	sw		$t2,196($0)
	li		$t2,100
	sw		$t2,200($0)
	li		$t2,99
	sw		$t2,204($0)
	li		$t2,98
	sw		$t2,208($0)
	li		$t2,97
	sw		$t2,212($0)
	li		$t2,96
	sw		$t2,216($0)
	li		$t2,95
	sw		$t2,220($0)
	li		$t2,94
	sw		$t2,224($0)
	li		$t2,93
	sw		$t2,228($0)
	li		$t2,92
	sw		$t2,232($0)
	li		$t2,91
	sw		$t2,236($0)
	li		$t2,90
	sw		$t2,240($0)
	li		$t2,89
	sw		$t2,244($0)
	li		$t2,88
	sw		$t2,248($0)
	li		$t2,87
	sw		$t2,252($0)
	li		$t2,86
	sw		$t2,256($0)
	li		$t2,85
	sw		$t2,260($0)
	li		$t2,84
	sw		$t2,264($0)
	li		$t2,83
	sw		$t2,268($0)
	li		$t2,82
	sw		$t2,272($0)
	li		$t2,81
	sw		$t2,276($0)
	li		$t2,80
	sw		$t2,280($0)
	li		$t2,79
	sw		$t2,284($0)
	li		$t2,78
	sw		$t2,288($0)
	li		$t2,77
	sw		$t2,292($0)
	li		$t2,76
	sw		$t2,296($0)
	li		$t2,75
	sw		$t2,300($0)
	li		$t2,74
	sw		$t2,304($0)
	li		$t2,73
	sw		$t2,308($0)
	li		$t2,72
	sw		$t2,312($0)
	li		$t2,71
	sw		$t2,316($0)
	li		$t2,70
	sw		$t2,320($0)
	li		$t2,69
	sw		$t2,324($0)
	li		$t2,68
	sw		$t2,328($0)
	li		$t2,67
	sw		$t2,332($0)
	li		$t2,66
	sw		$t2,336($0)
	li		$t2,65
	sw		$t2,340($0)
	li		$t2,64
	sw		$t2,344($0)
	li		$t2,63
	sw		$t2,348($0)
	li		$t2,62
	sw		$t2,352($0)
	li		$t2,61
	sw		$t2,356($0)
	li		$t2,60
	sw		$t2,360($0)
	li		$t2,59
	sw		$t2,364($0)
	li		$t2,58
	sw		$t2,368($0)
	li		$t2,57
	sw		$t2,372($0)
	li		$t2,56
	sw		$t2,376($0)
	li		$t2,55
	sw		$t2,380($0)
	li		$t2,54
	sw		$t2,384($0)
	li		$t2,53
	sw		$t2,388($0)
	li		$t2,52
	sw		$t2,392($0)
	li		$t2,51
	sw		$t2,396($0)
	#-----------------------
	li		$29,12284
	li		$s0,100
	li		$s1,0
	subi	$s2,$s0,1
	jal		QSORT
	nop
	j		ENDED
	nop

QSORT:
	sub		$t0,$s1,$s2
	bgez	$t0,BACK
	nop
	add		$s3,$s1,$s2
	srl		$s3,$s3,1
	#-------------------------------
	sll		$a0,$s1,2
	lw		$t1,array($a0)
	sll		$a0,$s2,2
	lw		$t2,array($a0)
	sub		$t0,$t1,$t2
	bgtz	$t0,SWAPLR
	nop
	j		AFTERSWAPLR
	nop
	SWAPLR:
		sll		$a0,$s1,2
		sw		$t2,array($a0)
		sll		$a0,$s2,2
		sw		$t1,array($a0)
	AFTERSWAPLR:
	#-------------------------------
	sll		$a0,$s3,2
	lw		$t1,array($a0)
	sll		$a0,$s2,2
	lw		$t2,array($a0)
	sub		$t0,$t1,$t2
	bgtz	$t0,SWAPRMID
	nop
	j		AFTERSWAPRMID
	nop
	SWAPRMID:
		sll		$a0,$s3,2
		sw		$t2,array($a0)
		sll		$a0,$s2,2
		sw		$t1,array($a0)
	AFTERSWAPRMID:
	#-------------------------------
	sll		$a0,$s3,2
	lw		$t1,array($a0)
	sll		$a0,$s1,2
	lw		$t2,array($a0)
	sub		$t0,$t1,$t2
	bgtz	$t0,SWAPLMID
	nop
	j		AFTERSWAPLMID
	nop
	SWAPLMID:
		sll		$a0,$s3,2
		sw		$t2,array($a0)
		sll		$a0,$s1,2
		sw		$t1,array($a0)
	AFTERSWAPLMID:
	#-------------------------------
	move		$t4,$s1
	move		$t5,$s2
	sll			$a0,$s1,2
	lw			$t6,array($a0)
	#-------------------------------
	OUT_WHILE_BEGIN:
		beq		$t4,$t5,OUT_WHILE_END
		nop
		WHILE_J_BEGIN:
			sll		$a0,$t5,2
			lw		$t0,array($a0)
			sub		$t1,$t0,$t6
			bgez	$t1,JMAY_RIGHT
			nop
			j		WHILE_J_END
			nop
			JMAY_RIGHT:
			sub		$t1,$t4,$t5
			bltz	$t1,JIS_RIGHT
			nop
			j		WHILE_J_END
			nop
			JIS_RIGHT:
			subi	$t5,$t5,1
			j		WHILE_J_BEGIN
			nop
		WHILE_J_END:
		#---------------------------------
		WHILE_I_BEGIN:
			sll		$a0,$t4,2
			lw		$t0,array($a0)
			sub		$t1,$t0,$t6
			blez	$t1,IMAY_RIGHT
			nop
			j		WHILE_I_END
			nop
			IMAY_RIGHT:
			sub		$t1,$t4,$t5
			bltz	$t1,IIS_RIGHT
			nop
			j		WHILE_I_END
			nop
			IIS_RIGHT:
			addi	$t4,$t4,1
			j		WHILE_I_BEGIN
			nop
		WHILE_I_END:
		#---------------------------------
		sub		$t1,$t4,$t5
		bltz	$t1,TO_SWAP
		nop
		j		OUT_WHILE_BEGIN
		nop
		TO_SWAP:
			sll		$a0,$t4,2
			lw		$t0,array($a0)
			sll		$a0,$t5,2
			lw		$t1,array($a0)
			sll		$a0,$t4,2
			sw		$t1,array($a0)
			sll		$a0,$t5,2
			sw		$t0,array($a0)
		j		OUT_WHILE_BEGIN
		nop
	OUT_WHILE_END:
	sll		$a0,$t4,2
	lw		$t0,array($a0)
	sll		$a0,$s1,2
	sw		$t0,array($a0)
	sll		$a0,$t4,2
	sw		$t6,array($a0)
	move	$s3,$t4
	move	$t5,$t4
	#-------------------------------
	WHILE_SUBI_BEGIN:
		sub		$t0,$t4,$s1
		bltz	$t0,WHILE_SUBI_END
		nop
		sll		$a0,$t4,2
		lw		$t0,array($a0)
		sll		$a0,$s3,2
		lw		$t1,array($a0)
		bne		$t0,$t1,WHILE_SUBI_END
		nop
		subi	$t4,$t4,1
		j		WHILE_SUBI_BEGIN
		nop
	WHILE_SUBI_END:
	WHILE_ADDJ_BEGIN:
		sub		$t0,$t5,$s2
		bgtz	$t0,WHILE_ADDJ_END
		nop
		sll		$a0,$t5,2
		lw		$t0,array($a0)
		sll		$a0,$s3,2
		lw		$t1,array($a0)
		bne		$t0,$t1,WHILE_ADDJ_END
		nop
		addi	$t5,$t5,1
		j		WHILE_ADDJ_BEGIN
		nop
	WHILE_ADDJ_END:
	#-------------------------------
	sw		$31,0($sp)
	subi	$sp,$sp,4
	sw		$t5,0($sp)
	subi	$sp,$sp,4
	sw		$s2,0($sp)
	subi	$sp,$sp,4
	move	$s2,$t4
	jal		QSORT
	nop
	addi	$sp,$sp,4
	lw		$s2,0($sp)
	addi	$sp,$sp,4
	lw		$t5,0($sp)
	addi	$sp,$sp,4
	lw		$31,0($sp)
	#-------------------------------
	sw		$31,0($sp)
	subi	$sp,$sp,4
	move	$s1,$t5
	jal		QSORT
	nop
	addi	$sp,$sp,4
	lw		$31,0($sp)
	BACK:
	jr		$31
	nop

ENDED:
	nop
	nop
	nop

.ktext 0x4180

_entry:
	mfc0	$k0,$14
	mfc0	$k1,$13
	ori		$k0,$0,0x1000
	sw		$sp,-4($k0)
	addiu	$k0,$k0,-256
	addu	$sp,$k0,$0
	beq		$0,$0,_save_context
	sw		$31,932($0)

_main_handler:
	mfc0	$k0,$13
	ori		$k1,$0,0x007c
	and		$k0,$k1,$k0
	beq		$0,$k0,_restore_context
	sw		$31,932($0)
	mfc0	$k0,$14
	addu	$k0,$k0,4
	mtc0	$k0,$14
	beq		$0,$0,_restore_context
	sw		$31,932($0)

_restore:
	eret
	nop

_save_context:
	sw		$1,4($sp)
	sw		$2,8($sp)
	sw		$3,12($sp)
	sw		$4,16($sp)
	sw		$5,20($sp)
	sw		$6,24($sp)
	sw		$7,28($sp)
	sw		$8,32($sp)
	sw		$9,36($sp)
	sw		$10,40($sp)
	sw		$11,44($sp)
	sw		$12,48($sp)
	sw		$13,52($sp)
	sw		$14,56($sp)
	sw		$15,60($sp)
	sw		$16,64($sp)
	sw		$17,68($sp)
	sw		$18,72($sp)
	sw		$19,76($sp)
	sw		$20,80($sp)
	sw		$21,84($sp)
	sw		$22,88($sp)
	sw		$23,92($sp)
	sw		$24,96($sp)
	sw		$25,100($sp)
	sw		$26,104($sp)
	sw		$27,108($sp)
	sw		$28,112($sp)
	sw		$29,116($sp)
	sw		$30,120($sp)
	sw		$31,124($sp)
	mfhi	$k0
	sw		$k0,128($sp)
	mflo	$k0
	sw		$k0,132($sp)
	beq		$0,$0,_main_handler
	sw		$31,932($0)

_restore_context:
	lw		$1,4($sp)
	lw		$2,8($sp)
	lw		$3,12($sp)
	lw		$4,16($sp)
	lw		$5,20($sp)
	lw		$6,24($sp)
	lw		$7,28($sp)
	lw		$8,32($sp)
	lw		$9,36($sp)
	lw		$10,40($sp)
	lw		$11,44($sp)
	lw		$12,48($sp)
	lw		$13,52($sp)
	lw		$14,56($sp)
	lw		$15,60($sp)
	lw		$16,64($sp)
	lw		$17,68($sp)
	lw		$18,72($sp)
	lw		$19,76($sp)
	lw		$20,80($sp)
	lw		$21,84($sp)
	lw		$22,88($sp)
	lw		$23,92($sp)
	lw		$24,96($sp)
	lw		$25,100($sp)
	lw		$26,104($sp)
	lw		$27,108($sp)
	lw		$28,112($sp)
	lw		$29,116($sp)
	lw		$30,120($sp)
	lw		$31,124($sp)
	lw		$k0,128($sp)
	mthi	$k0
	lw		$k0,132($sp)
	mtlo	$k0
	beq		$0,$0,_restore
	sw		$31,932($0)