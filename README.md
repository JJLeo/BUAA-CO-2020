# BUAA-CO-2020
本项目是北京航空航天大学计算机学院《计算机组成原理课程设计》的一份代码，时间是 2020-2021学年秋季学期。该项目的全部内容和以下文字**仅供参考**。

Logisim、Verilog、MIPS 三个文件夹是源文件，比较乱，所以把 P3 到 P7 的源码 + 文档，以及基于 IVerilog 的自动化测试工具单独整理到了“全家桶”这个文件夹。

因为一些时间上的冲突，以及没有坏心眼的小蜗牛，本学期的祭祖课设没有 P8，最终项目为 P7。

下面是笔者对每个 P 的感想，仅代表笔者**个人看法**：

- Pre 难点在于机房的 360 隐身而且不让你打开 MARS，以及同步复位和异步复位，这点教程没有提及。

- P0 的课下从某种意义上最难，因为教程部分对 Mealy 与 Moore 型自动机的区分不够明显，导致笔者（包括笔者的两个巨佬室友）一直认为 Mealy 型就是比 Moore 型多一根线，而没有理解其本质区别，导致课下卡了好久。P0 课上巨水，手速场。
- P1 课下巨水，课上难点在出题人把题意弄得很绕。
- P2 难度也不大，但是课上想要竞速就得保证熟练度，笔者在上一个周末就把课下做了，考前完全没碰 MIPS 汇编语言，导致上课快排调了一万年。
- P3 只要理解了单周期 CPU，就非常简单，一般这里会复用 P0 课下的 GRF，但是 P0 课下是究极弱测，最好检查一下有没有出锅（本蒟蒻就出了）。对拍方面，基本每个指令每个寄存器测一下就 ok 了。课上加指令是手速场。
- P4 相当于用 Verilog 代替 Logisim 实现 P3，没有难度。这里开始要求自动化测试，笔者使用的是下面 P5 测试工具的简化版，鉴于 P4 全自动化测试的意义不大，就没有单独整理出来。课上加指令依旧是手速场（可惜我因为写错一个变量竞速失败）。
- P5 推荐肖利民老师的 PPT，讲的很清楚。建议搞清楚一切再开始搭，不要把时间放到 debug 上面。搭完后现需要做自动化测试确保正确性，笔者使用了基于 IVerilog 的全自动化对拍，具体教程可以看全家桶中的“自动化测试”文件夹。课上加指令依旧是手速场，需要注意如果条件写不能写原值，本学期评测机不认可这一点。
- P6 主要是两件事，乘除块和 DM 改造，前者很简单，后者不要按照教程的搭，怎么简单怎么来。这里也需要自动化测试，具体教程可以看全家桶中的“自动化测试”文件夹。课上加指令还是手速场，需要注意有关乘除块的指令标程可能少写了一些转发，所以会产生反向 TLE，认为你的乘除块暂停时间过短，这时可以删一些相关转发。
- P7 课程组意图锻炼我们自学的能力，搞懂是要做什么要花费一定的时间。还有一个难点在于不太好对拍，笔者和室友都把 CP0 放在 D 级，架构完全一致，近乎到达了除了代码啥都一样的境界，因此所有不能自动化测试的地方都通过激情对拍解决了。注意课上强测可能并不够强，据说有人课下中强测都没过课上过了。另外，课上还需要加一个约一行的指令，过于简单就不说了。

总的来说，在搞懂原理后，这门课相当于一个大模拟，课上测试就是手速场，有一定的代码基础基本就不会挂。

